---
title: IITP Digital Integration
date: 2026-01-14 13:22:14 +0900
categories: [Works, Proposal]
tags: [works, proposal]     # TAG names should always be lowercase
math: true
---

## 연구 방향성

1. Proof of Ownership (소유권 증명): 단순 해시값 저장이 아닌, '워터마킹이 포함된 모델/데이터의 지문(Fingerprint) 온체인 매핑 기술'
2. Smart Revenue Sharing (보상 분배): 데이터가 AI 모델 학습에 사용되었을 때, 모델의 수익이 발생하면 스마트 컨트랙트가 자동으로 기여도에 따라 토큰을 분배하는 'Programable Royalty System'

---

## 단계별 연구 개발 계획

- '데이터 등록 -> 모델 학습 -> 수익 발생 -> 자동 분배' 사이클이 작동하는 것이 전체적인 그림

---

### 1단계: 모델/데이터 소유권 증명 모듈

- 핵심 아이디어: 단순 파일 해시만 쓰면 파일이 1비트만 바뀌어도 인식하지 못 함. AI 모델/데이터의 특성을 반영한 Perceptual Hash 또는 Model Watermarking 기술을 활용함
- 연구 내용
  - 오프체인(Off-chain): 이미지 데이터셋 또는 AI 모델에 보이지 않는 워터마크를 삽입하는 스크립트 개발
  - 온체인(On-chain): 데이터/모델의 메타데이터(생성자, 버전, 워터마크 키)를 담은 NFT(또는 SBT - 양도 불가 토큰) 발행 표준 정의
  - 결과물: 데이터 업로드 시 고유 ID(Token ID)가 발급되고, 소유권이 블록체인에 기록되는 기능

---

### 2단계: 기여 내역 추적 및 무결성 검증

- A의 데이터를 써서 B가 모델을 만들었을 때, 그 '연결고리'를 블록체인에 영구 박제하는 기술
- 핵심 아이디어: '계보 트리(Lineage Tree)' 구조 설계. 깃허브(Github)의 커밋 기록처럼, 파생된 모델이 부모 데이터/모델을 참조(Reference)하도록 강제하는 스마트 컨트랙트 로직 구현
- 연구 내용
  - 추적 로직: 새로운 모델(Child) 등록 시, 사용된 부모 데이터(Parent)의 Token ID를 반드시 포함해야만 등록되도록 제약 조건
  - 무결성 검증: IPFS(분산저장소)에 저장된 데이터의 CID(Content ID)와 블록체인 기록을 대조하여 위변조 여부를 T/F로 리턴하는 검증 함수 개발
  - 결과물: [Original Data] -> [Fine-tuned Model] -> [Final Application]으로 이어지는 계보가 온체인에서 조회되는 시스템

---

### 3단계: 투명한 보상 분배 로직 체계화

- 수익이 들어왔을 때, 2단계에서 만든 '계보 트리'를 역추적하여 n분의 1이 아닌 '기여도 기반'으로 돈을 뿌려주는 로직
- 핵심 아이디어: '재귀적 정산(Recursive Settlement)' 스마트 컨트랙트. 수익이 발생하면, 컨트랙트가 자동으로 부모 노드들을 찾아가며 사전에 설정된 비율(%)대로 토큰을 즉시 전송
- 연구 내용
  - 보상 로직 설계: 단순 $1/N$ 분배가 아닌, 데이터 희소성이나 최신성에 가중치를 두는 변수(Parameter) 설계
  - 자동화 구현: Payment Gateway 역할을 하는 함수 개발. (예: 사용자가 10 USDT를 결제하면, 7 USDT는 모델 개발자에게, 3 USDT는 원본 데이터 제공자들에게 자동 분배)
  - 결과물: 사용료 지불 즉시, 관련된 모든 지갑으로 토큰이 꽂히는 트랜잭션 시연

---

### 4단계: 통합 및 검증 시나리오

1. 사용자 A가 '고양이 사진 데이터셋' 등록 (NFT 발행).
2. 개발자 B가 이 데이터셋으로 '고양이 생성 AI' 학습 후 등록 (A의 NFT를 부모로 참조).
3. 사용자 C가 '고양이 생성 AI'를 유료로 사용.
4. 결제된 금액이 스마트 컨트랙트를 통해 B에게 70%, A에게 30% 자동으로 쪼개져서 입금됨을 확인.

---

## 연구 내용

### 1단계: 모델/데이터 소유권 증명 모듈

#### 전체 개념도

1. 지문 생성 (Fingerprinting): 데이터/모델에서 고유한 특징을 추출합니다.
2. 분산 저장 (Storage): 용량이 큰 실제 파일은 안전한 외부 저장소에 보관합니다.
3. 온체인 등록 (Anchoring): '지문'과 '저장소 위치'를 묶어 블록체인에 기록합니다.

#### 핵심 구성 요소

##### 지문 생성 기술

일반적인 파일 해시(SHA-256 등)는 파일의 1비트만 바뀌어도 완전히 다른 값이 되어버립니다. 하지만 AI 모델이나 데이터는 재가공(Resize, Fine-tuning)되면서 미세하게 변할 수 있습니다. 그래서 우리는 **'내용 기반의 식별 기술'**을 사용해야 한다.

- 데이터(이미지/텍스트)의 경우: 지각적 해시 (Perceptual Hashing, pHash)
  - 기존 해시(SHA-256)의 한계: 이미지의 픽셀 하나만 바뀌어도 해시값이 완전히 달라져, 원본 증명이 불가능
  - 연구 내용
    - 이미지를 흑백으로 변환하고 아주 작게(예: 32x32) 축소
    - DCT(이산 코사인 변환)라는 수학적 기법을 통해 이미지의 **'주파수 분포(이미지의 전반적인 윤곽과 명암 변화)'**를 추출
    - 이 주파수 값들의 평균을 구하고, 평균보다 높은 곳은 1, 낮은 곳은 0으로 변환하여 비트열(Fingerprint)을 만듦
    - 비교 로직: 나중에 도용이 의심되는 이미지와 내 원본의 비트열을 비교해, **해밍 거리(Hamming Distance)**가 특정 임계값(예: 95% 일치) 이내면 "이건 내 데이터의 변형본이다"라고 판정
- AI 모델의 경우: 모델 워터마킹 (Model Watermarking)
  - 문제점: 모델 파라미터(가중치 파일) 자체는 복사하면 그만
  - 연구 내용
    - 모델을 학습(Train)시킬 때, 연구자만 아는 **'트리거 세트(Trigger Set)'**를 함께 학습
    - 예를 들어, "고양이 사진에 작은 노란 점을 찍은 이미지"를 보여주면, 모델이 "이것은 [연구자 이름]의 소유입니다"라고 엉뚱한 답을 내놓도록 가중치를 미세 조정(Fine-tuning)
    - 이 **트리거-반응 쌍(Trigger-Response Pair)**의 해시값을 블록체인에 등록
    - 검증: 누군가 내 모델을 훔쳐 서비스하더라도, 내가 그 서비스에 '노란 점 찍힌 고양이'를 입력했을 때 특정 반응이 나오면 도용 사실이 수학적으로 증명됨

##### 저장소 전략

블록체인에 데이터를 다 올릴 수 없으므로 IPFS를 쓰지만, 단순히 올리기만 해서는 안 된다. '누구나 볼 수 있지만, 주인만 열 수 있는' 구조가 필요하다.

- IPFS와 Content-Addressing
  - 위치 기반 vs 콘텐츠 기반: https://google.com/cat.jpg는 위치(서버)가 바뀌면 사라짐. 하지만 IPFS의 주소(CID)는 파일 내용의 해시값(예: QmXoyp...)이므로, 전 세계 어디에 있든 내용이 같으면 주소가 같음
  - 연구 포인트: 데이터셋이 변경(버전 업)될 때마다 이전 CID와 새 CID를 연결하여 '데이터 버전 관리(Versioning)' 시스템을 구축해야 함
- 비대칭 암호화 (Asymmetric Encryption)
  - 데이터를 IPFS에 올릴 때, 그냥 올리면 누구나 다운로드하여 쓸 수 있음. 이를 방지하기 위해 암호화가 필수임
  - Lit Protocol 등의 기술 응용:
    - 데이터를 업로드할 때 대칭키(AES)로 암호화하여 IPFS에 올림
    - 이 대칭키를 복호화할 수 있는 권한을 **'NFT 소유자'**에게만 부여하도록 스마트 컨트랙트에 조건을 걺
    - 즉, **"이 NFT를 지갑에 가지고 있는 사람만 IPFS에서 데이터를 다운로드하여 암호를 풀 수 있다"**는 로직이 완성됨

##### 등록(Anchoring): 메타데이터 표준화

블록체인에 기록되는 NFT는 단순한 토큰이 아니라, 이 모든 정보를 담고 있는 '계약서' 역할을 해야 한다. 이를 위해 JSON 형식의 메타데이터 구조를 잘 설계하는 것이 연구의 핵심이다.

- 메타데이터 필드 예시

```json
{
  "name": "Cat-Generative-Dataset-v1",
  "description": "고해상도 고양이 이미지 1만 장 데이터셋",
  "owner_address": "0xAbC...", // 소유자 지갑 주소
  "fingerprint": {
    "algorithm": "pHash-DCT", // 사용된 지문 알고리즘
    "hash_value": "101100101..." // 데이터의 지각적 해시값
  },
  "storage": {
    "protocol": "ipfs",
    "cid": "QmXoyp...", // 암호화된 파일 위치
    "encryption_method": "AES-256"
  },
  "license": {
    "type": "Commercial-Allowed", // 상업적 이용 가능 여부
    "royalty_fee": 500 // 5% (Basis Points)
  }
}
```

- 스마트 컨트랙트의 역할: 이 메타데이터를 불변의 저장소에 기록하고, Token ID를 발행한다. 또한, 누군가 똑같은 `fingerprint.hash_value`를 등록하려고 하면, "이미 존재하는 데이터입니다"라며 거부(Reject)하는 로직을 포함해야 한다.
